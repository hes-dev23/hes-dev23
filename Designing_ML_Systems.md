# chapter 1 Overview of Machine Learning Systems

구글이 성공적으로 번역시스템을 상용화한 이후로 많은 ML의 발전과 ML을 활용한 서비스들이 많이 나오고 있다.
사람들은 "ML system"에 대해서 생각을 할 때 ML 알고리즘을 생각하지만, 실질적으로 알고리즘이 차지하는 부분은 아주 작다. 시스템은 *비지니스 요구사항*을 포함하고, 사용자와 개발자를 이어주기 위한 *인터페이스*, *데이터*, *로직*, *모니터링*, *모델 업데이트*, *infrastructure* 를 포함한다. 

## The Relationship Between MLOps and ML Systems Design

ML을 상품에 집어넣기 위해 Operation(프로덕트로 상용화, 개발, 모니터링, 유지)을 해주는 종합적인 Tool을 MLOps라고 한다. 본 책에서는 특정 알고리즘에 대한 설명이 아닌 "문제에 대한 솔루션 개발 프레임워크를 제공"하는 것을 목표로한다. 

## When to Use Machine Learning

"ML is not a magic tool" 또한 ML로 풀 수 있는 문제임에도 ML이 항상 최적화된 방법은 아닐 수 있다. ML이 필요한지 비용 측면에서 효율적인지 생각해 볼 필요가 있다.

> ML은 (3)존재하는 데이터로 부터 (2)복잡한 패턴을 (1)학습하고 (5)관측 되지 않은 데이터를 (4)예측하는 것에 활용한다.

(1) 시스템은 학습을 위한 capacity를 가진다. ML 시스템은 학습을 위한 소스가 존재한다.
(2) 학습을 위한 패턴들은 복잡하다. 패턴이 있더라도 명확하지 않으며, 패턴을 잡아내기위한 데이터나 알고리즘이 부족할 수 있다. 또는 잡아낸 패턴이 의도한 것과는 다른 패턴일 수 있다.
(3) 가지고 있는 데이터이거나 수집이 가능한 데이터이다. 사용할 데이터와 다른 데이터를 활용해 학습을 한 모델을 활용할 수 도 있고, continual-learning을 활용하여 점차 학습을 진행할 수 있다. 또 처음에는 모델 학습을 위한 데이터를 수집하기 위해 사람에 의한 예측을 통한 서빙을 하기도 한다. 
(4) 예측 가능한 문제이다. 예측 가능한 정답을 요구하는 문제들을 풀 수 있다. 계산에 드는 비용과 시간이 많은 경우 ML 모델을 활용해서 근사(결과를 예측)해볼 수도 있다.
(5) 관측하지 못한 데이터는 학습 데이터와 패턴을 공유한다. 학습된 데이터와 관측하지 못한 데이터가 같은 패턴을 공유해야 의미가 있다. 즉 "유사한 분포"를 가지고 있어야한다. 관측하지 못한 데이터의 분포에 대해서는 보고 있는 데이터 분포와 크게 달라지지 않을 것이라 가정한다. 분포가 다른 경우는 모니터링을 통해 걸러질 것이다.  
이 외에도 ML 솔루션들은 (6)반복적인 특성을 가지거나 (7)잘못된 예측의 영향(비용)이 크지 않은 경우, (8)규모가  큰 경우, (9)패턴이 지속적으로 (트랜드를 가지고) 변하는 경우(문화, 취향, 기술 등)에 빛을 보인다. 

하지만 ML 솔루션은 때로는 비도덕적이기도 하고 또는 문제를 더욱 복잡하게 풀기도 하고, 저렴하지 않다. 

문제를 작은 문제들로 쪼개어, 작은 문제를 해결하는 것에 ML을 활용해 볼 수 있다. 또한 기술들은 지속적으로 발전하기 떄문에 새로운 기술들을 놓치지 않아야 경쟁자들에 뒤쳐지지 않을 수 있다. 

## Machine Learning Use Cases

ML은 실생활의 다양한 곳에서 활용되고 있다. 기업용 ML 어플리케이션과 소비자용 ML 어플리케이션은 다른 요구사항을 가지고 있으며, 각각에 따라 성능에서 조금의 증가가 다른 의미를 가질 때도 있다.(0.1% 의 증가가 소비자에게는 의미 없지만 기업에게는 엄청난 비용 절감을 가져오기도 한다.)

## Understanding Machine Learning Systems

### Machine Learning in Research Versus in Production

|                        | Research | Production |
|------------------------|----------|------------|
| 요구사항               | 밴치마크용 데이터 셋에 대한 SOTA 모델 성능 결과 | 상황에 따라 다른 요구사항  | 
| 계산 우선순위          | *빠른 학습, 높은 처리율*  | *빠른 추론, 낮은 레이턴시*  | 
| 데이터                 | 고정적 | 지속적 변화  |
| 공정성                | 이미 공정하다고 생각되어 집중하지 않음 | 고려되어야만 함 | 
| 해석가능성       | 종종 집중하지 않음 | 고려되어야 함 |

> "successful research projects might not always be used in production."

### Machine Learning Systems Versus Traditional Software

> "ML is part of software engineering" 

소프트웨어 공학에서는 데이터와 코드는 분리되어 있고, 모든 것들을 모듈화해서 분해하고자 한다. 
    많은 소프트웨어 공학을 위한 tool을 활용할 수 있다.
    코드를 테스트하고 버저닝하면 된다. 
ML 시스템의 경우 코드, 데이터, 그리고 그 둘로부터 만들어진 아티펙트가 있다.
    많은 소프트웨어 공학을 위한 tool을 활용할 수 있다.
    데이터가 사용하고자 하는 모델에 좋고 나쁜지 버저닝은 어떻게 하는지 등을 고려해야한다.  
    모델의 사이즈도 중요한 문제가 된다.
    모델에 대한 모니터링과 디버깅을 추가로 고려해야한다.

